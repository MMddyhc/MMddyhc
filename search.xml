<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Python爬取LOL高清皮肤壁纸</title>
      <link href="/2020/10/13/python-pa-qu-lol-gao-qing-pi-fu-bi-zhi/"/>
      <url>/2020/10/13/python-pa-qu-lol-gao-qing-pi-fu-bi-zhi/</url>
      
        <content type="html"><![CDATA[<h1 id="Python爬取LOL高清皮肤壁纸"><a href="#Python爬取LOL高清皮肤壁纸" class="headerlink" title="Python爬取LOL高清皮肤壁纸"></a>Python爬取LOL高清皮肤壁纸</h1><h2 id="兴趣点："><a href="#兴趣点：" class="headerlink" title="兴趣点："></a>兴趣点：</h2><p>这两天复习爬虫，CSDN上看到了一个爬取LOL皮肤的博客，哎这个有意思，看了一下他写的代码，感觉难度还可以，就结合着自己的理解写了一下</p><h2 id="参考博客："><a href="#参考博客：" class="headerlink" title="参考博客："></a>参考博客：</h2><p>传送门：<a href="https://blog.csdn.net/weixin_44936889/article/details/103707406">https://blog.csdn.net/weixin_44936889/article/details/103707406</a></p><h2 id="爬取网址："><a href="#爬取网址：" class="headerlink" title="爬取网址："></a>爬取网址：</h2><p>传送门：<a href="http://lol.52pk.com/pifu/hero/">http://lol.52pk.com/pifu/hero/</a></p><h2 id="爬虫大体思路及方法："><a href="#爬虫大体思路及方法：" class="headerlink" title="爬虫大体思路及方法："></a>爬虫大体思路及方法：</h2><p>大体思路：<br>（1）我们的目标网页共43页，每页有25个皮肤左右，点开是皮肤大图及相关内容，其中的大图链接就是我们的目标<br>（2）我们要先把大约43×25个皮肤大图展示页面的链接先爬出来放到一个列表中<br>（3）再根据列表中的链接采用循环的方法获取其中的“英雄名-皮肤名”和皮肤图片链接，并将其一对一写入一个列表<br>（4）按顺序爬取列表中图片链接对应的图片并输出对应的提示信息<br>方法：<br>（1）页面获取方法：getHTMLText(url)<br>（2）把所有皮肤页URL写入列表：fillList(skinlist,url)<br>（3）获取皮肤命名和图片URL：getImageAddress(skinlist,nameAndImage)<br>（4）图片下载及保存：getImage(path,nameAndImage)<br>参数解读：<br>（1）skinlist——保存所有皮肤页面链接的列表<br>（2）nameAndImage——保存皮肤命名和皮肤图片链接的列表<br>（3）path——本地保存路径</p><h2 id="部分细节讲解："><a href="#部分细节讲解：" class="headerlink" title="部分细节讲解："></a>部分细节讲解：</h2><p>（1）观察网页原代码，找到页面的规律：<br><img src="https://img-blog.csdnimg.cn/20201013160854559.png#pic_center" alt="页面规律"><br>我们可以得知页面的真实地址，页面数43页和规律，所以后面的代码是这么写：</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">)</span><span class="token punctuation">:</span>      <span class="token comment">#皮肤展示页面共43页</span>new_url <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">"hero_&#123;&#125;.shtml"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>   <span class="token comment">#拼出每个页面url</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>这里我是为了展示，其实没必要爬43页，毕竟Python运行速度太慢了</p><p>（2）目标网页可以识别Request请求，需要伪装成浏览器</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">kv <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"user-agent"</span><span class="token punctuation">:</span><span class="token string">"Mozilla/5.0"</span><span class="token punctuation">&#125;</span>r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span>headers <span class="token operator">=</span> kv<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>（3）从页面中获取到的文本尽量用 .strip() 方法去除两端空格</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">name <span class="token operator">=</span> hero_name<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> skin_name<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>（4）踩坑记录：因为阿狸的KD/A皮肤文本里有一个”/“，所以会造成找不到路径的错误，替换成空即可</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">name <span class="token operator">=</span> name<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>（5）踩坑记录：关于 url 变量，在循环中不要写出下面这样的代码，url会变！url会变！url会变！</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">url <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">"hero_&#123;&#125;.shtml"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>（6）Python标准异常：<br>菜鸟教程：<a href="https://www.runoob.com/python/python-exceptions.html">https://www.runoob.com/python/python-exceptions.html</a><br>（7）关于打印进程提示信息：<br>有些同学可能认为这个没什么用，但这个很有用：一来可以提示程序运行的进度（Python运行实在是慢），二来可以用来差错，当断点使用</p><h2 id="完整代码："><a href="#完整代码：" class="headerlink" title="完整代码："></a>完整代码：</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> re<span class="token keyword">import</span> os<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup<span class="token keyword">def</span> <span class="token function">getHTMLText</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        kv <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"user-agent"</span><span class="token punctuation">:</span><span class="token string">"Mozilla/5.0"</span><span class="token punctuation">&#125;</span>        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span>headers <span class="token operator">=</span> kv<span class="token punctuation">)</span>        r<span class="token punctuation">.</span>raise_for_status<span class="token punctuation">(</span><span class="token punctuation">)</span>        r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> r<span class="token punctuation">.</span>apparent_encoding        <span class="token keyword">return</span> r<span class="token punctuation">.</span>text    <span class="token keyword">except</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"getHTMLText失败！"</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">""</span><span class="token keyword">def</span> <span class="token function">fillList</span><span class="token punctuation">(</span>skinlist<span class="token punctuation">,</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>      <span class="token comment">#皮肤展示页面共43页</span>        new_url <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">"hero_&#123;&#125;.shtml"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>   <span class="token comment">#拼出每个页面url</span>        html <span class="token operator">=</span> getHTMLText<span class="token punctuation">(</span>new_url<span class="token punctuation">)</span>        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span> features <span class="token operator">=</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>        div_soup <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_ <span class="token operator">=</span> <span class="token string">'ListBigContent'</span><span class="token punctuation">)</span>        lis <span class="token operator">=</span> div_soup<span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>    <span class="token comment">#查询li标签</span>        <span class="token keyword">for</span> li <span class="token keyword">in</span> lis<span class="token punctuation">:</span>            skin_url <span class="token operator">=</span> li<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> target<span class="token operator">=</span><span class="token string">'_blank'</span><span class="token punctuation">)</span>            skin_url <span class="token operator">=</span> skin_url<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"href"</span><span class="token punctuation">)</span>            skinlist<span class="token punctuation">.</span>append<span class="token punctuation">(</span>skin_url<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"页面&#123;0&#125;解读完毕!"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">def</span> <span class="token function">getImageAddress</span><span class="token punctuation">(</span>skinlist<span class="token punctuation">,</span>nameAndImage<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> url <span class="token keyword">in</span> skinlist<span class="token punctuation">:</span>        html <span class="token operator">=</span> getHTMLText<span class="token punctuation">(</span>url<span class="token punctuation">)</span>        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span> features <span class="token operator">=</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>        name_div <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_ <span class="token operator">=</span> <span class="token string">'pifuIntroText pifuIntroText2'</span><span class="token punctuation">)</span>        hero_name <span class="token operator">=</span> name_div<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'h2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text        skin_name <span class="token operator">=</span> name_div<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text        name <span class="token operator">=</span> hero_name<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> skin_name<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>        name <span class="token operator">=</span> name<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>    <span class="token comment">#把字符中的"/"替换成空，否则会影响路径，都是K/DA的锅</span>        image_div <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_ <span class="token operator">=</span> <span class="token string">'pifuIntroPic pifuIntroPic2'</span><span class="token punctuation">)</span>        image_url <span class="token operator">=</span> image_div<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span>        image_url <span class="token operator">=</span> image_url<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span>        nameAndImage<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>name<span class="token punctuation">,</span>image_url<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"&#123;0&#125;链接已获取!"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">getImage</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span>nameAndImage<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>            os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nameAndImage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            save_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>path<span class="token punctuation">,</span> nameAndImage<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'.jpg'</span><span class="token punctuation">)</span>            url <span class="token operator">=</span> nameAndImage<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>            r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>save_path<span class="token punctuation">)</span><span class="token punctuation">:</span>                image <span class="token operator">=</span> r<span class="token punctuation">.</span>content                <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>save_path<span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>                    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>image<span class="token punctuation">)</span>                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'&#123;&#125;保存成功!'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>nameAndImage<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'&#123;&#125;已存在'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>nameAndImage<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'&#123;&#125;保存失败'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>nameAndImage<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    skinlist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    nameAndImage <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>    path <span class="token operator">=</span> <span class="token string">"./image"</span>     url <span class="token operator">=</span> <span class="token string">"http://lol.52pk.com/pifu/hero/"</span>    fillList<span class="token punctuation">(</span>skinlist<span class="token punctuation">,</span>url<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"fillList成功"</span><span class="token punctuation">)</span>    getImageAddress<span class="token punctuation">(</span>skinlist<span class="token punctuation">,</span>nameAndImage<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"getImageAddress成功"</span><span class="token punctuation">)</span>    getImage<span class="token punctuation">(</span>path<span class="token punctuation">,</span>nameAndImage<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"getImage成功"</span><span class="token punctuation">)</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python爬取软科中国大学排名2020版网页</title>
      <link href="/2020/10/12/python-pa-qu-ruan-ke-zhong-guo-da-xue-pai-ming-2020-ban-wang-ye/"/>
      <url>/2020/10/12/python-pa-qu-ruan-ke-zhong-guo-da-xue-pai-ming-2020-ban-wang-ye/</url>
      
        <content type="html"><![CDATA[<h1 id="Python爬取软科中国大学排名2020版网页"><a href="#Python爬取软科中国大学排名2020版网页" class="headerlink" title="Python爬取软科中国大学排名2020版网页"></a>Python爬取软科中国大学排名2020版网页</h1><h2 id="问题起因："><a href="#问题起因：" class="headerlink" title="问题起因："></a>问题起因：</h2><p>复习爬虫时发现之前代码爬取的软科中国大学排名网站页面变了，原来的爬虫就不能再使用了，所以我对爬虫进行了更新，使之恢复可用状态，并增加了写入Excel表格部分</p><h2 id="目标页面："><a href="#目标页面：" class="headerlink" title="目标页面："></a>目标页面：</h2><p>软科——中国大学排名<a href="http://www.shanghairanking.cn/rankings/bcur/2020">http://www.shanghairanking.cn/rankings/bcur/2020</a></p><h2 id="爬虫方法设计："><a href="#爬虫方法设计：" class="headerlink" title="爬虫方法设计："></a>爬虫方法设计：</h2><p>方法：<br>（1）页面获取方法：getHTMLText(url)<br>（2）页面解读方法：fillUnivList(ulist,html)<br>（3）效果打印方法：printUnivList(ulist,num)<br>（4）写入Excel方法：save(path,ulist)</p><p>参数解读：<br>（1）ulist——存储解读结果的列表<br>（2）html——方法（1）读取的html页面<br>（3）num——爬取效果展示的数量<br>（4）path——写入的Excel的路径</p><h2 id="用到的Python方法及更新部分讲解："><a href="#用到的Python方法及更新部分讲解：" class="headerlink" title="用到的Python方法及更新部分讲解："></a>用到的Python方法及更新部分讲解：</h2><p>（1）使用format()函数对齐：<br>菜鸟教程：<a href="https://www.runoob.com/python/att-string-format.html">https://www.runoob.com/python/att-string-format.html</a><br>网友踩坑：<a href="https://blog.csdn.net/Andone_hsx/article/details/84025828">https://blog.csdn.net/Andone_hsx/article/details/84025828</a></p><p>（2）原代码无法获取新网页学校名：<br>这是因为新页面的标签结构发生了一些变化，新页面的校名包裹在了a标签之内，父一级的td标签解读不到，老版网页包裹在div标签内就可以解读到<br><img src="https://img-blog.csdnimg.cn/2020101215395513.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70#pic_center" alt="页面结构变化"><br>所以我在原先代码的基础是又重新查询了一遍a标签，ulist的第二个元素相应作出更改<br><img src="https://img-blog.csdnimg.cn/20201012154602856.png#pic_center" alt="查询a标签"></p><p>（3）新页面的标签内文本带有很长的空格，这个直接用strip()方法去掉即可，如上图</p><p>（4）instance方法使用：<br>菜鸟教程：<a href="https://www.runoob.com/python/python-func-isinstance.html">https://www.runoob.com/python/python-func-isinstance.html</a></p><p>（5）关于写入Excel表：<br>目前只能使用 .xls 和 .csv 格式，.xlsx格式无法识别gbk编码，难受，小伙伴可以写入 .xls 再另存为成 .xlsx 格式，小伙伴如果有方法的话也可以在博客下留言哦</p><h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> re<span class="token keyword">import</span> bs4<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup<span class="token keyword">def</span> <span class="token function">getHTMLText</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span>timeout <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span>        r<span class="token punctuation">.</span>raise_for_status<span class="token punctuation">(</span><span class="token punctuation">)</span>        r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> r<span class="token punctuation">.</span>apparent_encoding        <span class="token keyword">return</span> r<span class="token punctuation">.</span>text    <span class="token keyword">except</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"getHTMLText失败！"</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">""</span><span class="token keyword">def</span> <span class="token function">fillUnivList</span><span class="token punctuation">(</span>ulist<span class="token punctuation">,</span>html<span class="token punctuation">)</span><span class="token punctuation">:</span>    soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> tr <span class="token keyword">in</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"tbody"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>children<span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>tr<span class="token punctuation">,</span>bs4<span class="token punctuation">.</span>element<span class="token punctuation">.</span>Tag<span class="token punctuation">)</span><span class="token punctuation">:</span>      <span class="token comment">#过滤非标签信息</span>            tds <span class="token operator">=</span> tr<span class="token punctuation">(</span><span class="token string">"td"</span><span class="token punctuation">)</span>      <span class="token comment">#查询td标签</span>            tagas <span class="token operator">=</span> tr<span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span>     <span class="token comment">#查询a标签</span>            ulist<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>tds<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>tagas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>tds<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>tds<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>tds<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">pass</span><span class="token keyword">def</span> <span class="token function">printUnivList</span><span class="token punctuation">(</span>ulist<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>    a <span class="token operator">=</span> <span class="token string">"&#123;0:^10&#125;&#123;1:&#123;5&#125;^10&#125;&#123;2:^10&#125;&#123;3:^10&#125;&#123;4:^10&#125;"</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">"排名"</span><span class="token punctuation">,</span><span class="token string">"学校"</span><span class="token punctuation">,</span><span class="token string">"地域"</span><span class="token punctuation">,</span><span class="token string">"类型"</span><span class="token punctuation">,</span><span class="token string">"总分"</span><span class="token punctuation">,</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">12288</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>        u <span class="token operator">=</span> ulist<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>u<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>u<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>u<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>u<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>u<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">12288</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">save</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span>ulist<span class="token punctuation">)</span><span class="token punctuation">:</span>    Excel <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">,</span>encoding <span class="token operator">=</span> <span class="token string">'gbk'</span><span class="token punctuation">)</span>    Excel<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'排名\t学校\t地域\t类型\t总分\n'</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>ulist<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>ulist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            Excel<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>ulist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            Excel<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'\t'</span><span class="token punctuation">)</span>      <span class="token comment">#相当于Tab一下，换下一个单元格</span>        Excel<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>          <span class="token comment">#写完一行，换行</span>    Excel<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    uinfo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    url <span class="token operator">=</span> <span class="token string">"http://www.shanghairanking.cn/rankings/bcur/2020.html"</span>    html <span class="token operator">=</span> getHTMLText<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"get成功"</span><span class="token punctuation">)</span>    fillUnivList<span class="token punctuation">(</span>uinfo<span class="token punctuation">,</span>html<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"fill成功"</span><span class="token punctuation">)</span>    printUnivList<span class="token punctuation">(</span>uinfo<span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>     <span class="token comment">#20univs</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"print成功"</span><span class="token punctuation">)</span>    save<span class="token punctuation">(</span><span class="token string">"大学排名.xls"</span><span class="token punctuation">,</span>uinfo<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"save成功"</span><span class="token punctuation">)</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="运行效果与成果展示："><a href="#运行效果与成果展示：" class="headerlink" title="运行效果与成果展示："></a>运行效果与成果展示：</h2><p><img src="https://img-blog.csdnimg.cn/20201012160258461.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70#pic_center" alt="IDLE运行结果"><br><img src="https://img-blog.csdnimg.cn/20201012160418770.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70#pic_center" alt="Excel写入"></p>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 文件操作 </tag>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python批量修改文件名</title>
      <link href="/2020/10/11/python-pi-liang-xiu-gai-wen-jian-ming/"/>
      <url>/2020/10/11/python-pi-liang-xiu-gai-wen-jian-ming/</url>
      
        <content type="html"><![CDATA[<h1 id="Python批量修改文件名"><a href="#Python批量修改文件名" class="headerlink" title="Python批量修改文件名"></a>Python批量修改文件名</h1><h2 id="问题起因："><a href="#问题起因：" class="headerlink" title="问题起因："></a>问题起因：</h2><p>我需要核对一些表格，但是Excel无法同时打开两个同名文件，这大几十的Excel表要是一个个改名再改回来也太麻烦了</p><h2 id="使用工具及方法："><a href="#使用工具及方法：" class="headerlink" title="使用工具及方法："></a>使用工具及方法：</h2><p>工具：Python3.7<br>方法：<br>（1）os.listdir(path)    将指定路径文件夹中的文件名录入一个列表中<br>（2）os.rename(old_name,new_name)        重命名文件</p><h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token comment"># 目标路径</span>path <span class="token operator">=</span> <span class="token string">""</span><span class="token comment">#os.listdir(path)返回指定路径路径文件夹中所有文件名,并将文件名存入列表</span>filename_list <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span>p <span class="token operator">=</span> <span class="token number">0</span><span class="token comment">#循环修改所有文件名</span><span class="token keyword">for</span> i <span class="token keyword">in</span> filename_list<span class="token punctuation">:</span>    old_name <span class="token operator">=</span> path <span class="token operator">+</span> filename_list<span class="token punctuation">[</span>p<span class="token punctuation">]</span>    new_name <span class="token operator">=</span> path <span class="token operator">+</span> <span class="token string">"1_"</span> <span class="token operator">+</span> filename_list<span class="token punctuation">[</span>p<span class="token punctuation">]</span>    <span class="token comment">#回退到之前的文件名方法</span>    <span class="token comment">#new_name = path + filename_list[p][2:]</span>    os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>old_name<span class="token punctuation">,</span>new_name<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"文件&#123;0&#125;重命名成功,新文件名为&#123;1&#125;"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>old_name<span class="token punctuation">,</span>new_name<span class="token punctuation">)</span><span class="token punctuation">)</span>    p <span class="token operator">=</span> p <span class="token operator">+</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 文件操作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于Hexo的Matery主题博客增加视频播放器</title>
      <link href="/2020/10/05/ji-yu-hexo-de-matery-zhu-ti-bo-ke-zeng-jia-shi-pin-bo-fang-qi/"/>
      <url>/2020/10/05/ji-yu-hexo-de-matery-zhu-ti-bo-ke-zeng-jia-shi-pin-bo-fang-qi/</url>
      
        <content type="html"><![CDATA[<h1 id="基于Hexo的Matery主题博客增加视频播放器"><a href="#基于Hexo的Matery主题博客增加视频播放器" class="headerlink" title="基于Hexo的Matery主题博客增加视频播放器"></a>基于Hexo的Matery主题博客增加视频播放器</h1><h2 id="问题起因："><a href="#问题起因：" class="headerlink" title="问题起因："></a>问题起因：</h2><p>看了FPX归还全球总决赛奖杯的视频，触景生情，内心很不是滋味，也算是警醒自己吧：<strong>你可以用一年爬的很高很高很高，也可能在一年就摔的很低很低很低</strong>，所以我打算把这个短视频也放到自己的博客上</p><h2 id="最终效果展示："><a href="#最终效果展示：" class="headerlink" title="最终效果展示："></a>最终效果展示：</h2><p><img src="https://img-blog.csdnimg.cn/20201006000600715.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70#pic_center" alt="效果图"></p><h2 id="哪些文件共同生成了video？"><a href="#哪些文件共同生成了video？" class="headerlink" title="哪些文件共同生成了video？"></a>哪些文件共同生成了video？</h2><p>想造出第二个video就肯定要知道video的功能和效果是怎么实现的，于是我找到了下列文件：</p><ol><li><p>主题的配置文件：<strong>themes/hexo-theme-matery/_config.yml</strong></p></li><li><p>生成首页文件：<strong>themes/hexo-theme-matery/layout/index.ejs</strong></p></li><li><p>生成video文件：<strong>themes/hexo-theme-matery/layout/_widget/video.ejs</strong></p><h2 id="主题的-config-yml文件修改："><a href="#主题的-config-yml文件修改：" class="headerlink" title="主题的_config.yml文件修改："></a>主题的_config.yml文件修改：</h2><p>这个想必大家都很熟悉，在之前的 video 下面在加一个 video_2 就行了</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">video</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">showTitle</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">title</span><span class="token punctuation">:</span> 生日快乐颖颖子(づ￣3￣)づ╭❤～  <span class="token key atrule">url</span><span class="token punctuation">:</span>   <span class="token key atrule">pic</span><span class="token punctuation">:</span>   <span class="token key atrule">thumbnails</span><span class="token punctuation">:</span>  <span class="token key atrule">height</span><span class="token punctuation">:</span> <span class="token comment"># 如：400</span>  <span class="token key atrule">autoplay</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># 是否自动播放</span>  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'#42b983'</span>  <span class="token key atrule">loop</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># 是否循环播放</span>  <span class="token key atrule">preload</span><span class="token punctuation">:</span> <span class="token string">'auto'</span> <span class="token comment"># 预加载，可选值: 'none', 'metadata', 'auto'</span>  <span class="token key atrule">volume</span><span class="token punctuation">:</span> <span class="token number">0.7</span>  <span class="token key atrule">video_2</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">showTitle</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">title</span><span class="token punctuation">:</span> FPX归还奖杯，泪洒现场，期待凤凰再次涅槃  <span class="token key atrule">url</span><span class="token punctuation">:</span>   <span class="token key atrule">pic</span><span class="token punctuation">:</span>   <span class="token key atrule">thumbnails</span><span class="token punctuation">:</span>  <span class="token key atrule">height</span><span class="token punctuation">:</span> <span class="token comment"># 如：400</span>  <span class="token key atrule">autoplay</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># 是否自动播放</span>  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'#42b983'</span>  <span class="token key atrule">loop</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># 是否循环播放</span>  <span class="token key atrule">preload</span><span class="token punctuation">:</span> <span class="token string">'auto'</span> <span class="token comment"># 预加载，可选值: 'none', 'metadata', 'auto'</span>  <span class="token key atrule">volume</span><span class="token punctuation">:</span> <span class="token number">0.7</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="生成首页文件index-ejs文件修改："><a href="#生成首页文件index-ejs文件修改：" class="headerlink" title="生成首页文件index.ejs文件修改："></a>生成首页文件index.ejs文件修改：</h2><p>因为我们新加了 video_2 嘛，所以这里也要做对应的修改：<br>先在首页中增加 video_2 相应的代码</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>dream<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_widget/dream'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">&#125;</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>music<span class="token punctuation">.</span>enable <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>theme<span class="token punctuation">.</span>music<span class="token punctuation">.</span>fixed<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_widget/music'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">&#125;</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>video<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_widget/video'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">&#125;</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>video_2<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_widget/video_2'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">&#125;</span> <span class="token operator">%</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>上面的 if 语句中也要相应增加 theme.video_2.enable</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>current <span class="token operator">===</span> <span class="token number">1</span>            <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>theme<span class="token punctuation">.</span>dream<span class="token punctuation">.</span>enable <span class="token operator">||</span> theme<span class="token punctuation">.</span>music<span class="token punctuation">.</span>enable<span class="token punctuation">)</span>                    <span class="token operator">||</span> theme<span class="token punctuation">.</span>video<span class="token punctuation">.</span>enable <span class="token operator">||</span> theme<span class="token punctuation">.</span>video_2<span class="token punctuation">.</span>enable <span class="token operator">||</span> theme<span class="token punctuation">.</span>recommend<span class="token punctuation">.</span>enable<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token operator">%</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="生成video的video-2-ejs文件的创建："><a href="#生成video的video-2-ejs文件的创建：" class="headerlink" title="生成video的video_2.ejs文件的创建："></a>生成video的video_2.ejs文件的创建：</h2><p>我们已经准备好了 video_2 的位置，现在就差调用的 video_2.ejs 文件的创建工作了</p></li><li><p>首先， video_2 和 video 肯定是一样的，所以复制一份 video.ejs 重命名成 video_2.ejs就可以了</p></li><li><p>然后我们打开 video.ejs 文件，看一下里面是什么，大体思路就是把里面的 video 改成 video_2 就行了，所以更改如下：<br><img src="https://img-blog.csdnimg.cn/20201005234755213.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70#pic_center" alt="修改目标"><br>这个可以直接使用替换功能，但是要注意 class 里或 ID 里的 video 不要动</p></li><li><p>这步完成后，我尝试着运行了一下，发现还是不行，找了半天原因，最后发现应该是ID选择器的问题：把 video_2 的ID换成 dplayer_2 就行了，如下图，更改这两个即可：<br><img src="https://img-blog.csdnimg.cn/20201006000056933.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70#pic_center" alt="修改目标"></p></li><li><p>保存修改，刷新网页，效果就实现了</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Matery </tag>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sdb格式数据库转shp方法</title>
      <link href="/2020/10/04/sdb-ge-shi-shu-ju-ku-zhuan-shp-fang-fa/"/>
      <url>/2020/10/04/sdb-ge-shi-shu-ju-ku-zhuan-shp-fang-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="sdb格式数据库转shp方法"><a href="#sdb格式数据库转shp方法" class="headerlink" title="sdb格式数据库转shp方法"></a>sdb格式数据库转shp方法</h1><h2 id="问题起因："><a href="#问题起因：" class="headerlink" title="问题起因："></a>问题起因：</h2><p>想获取一个县的矢量数据，可给我们的是sdb数据库文件，我要从这个sdb数据库中获取shp文件，方法如下：</p><h2 id="sdb数据库是什么？"><a href="#sdb数据库是什么？" class="headerlink" title="sdb数据库是什么？"></a>sdb数据库是什么？</h2><p>SDB(Spatial DataBase)：<br>空间数据库，SuperMap支持的纯关系数据库，用于存储和管理空间数据，看到这里你脑海里就应该就有解决问题的思路了吧！</p><h2 id="使用软件："><a href="#使用软件：" class="headerlink" title="使用软件："></a>使用软件：</h2><p><strong>Super Map</strong><br>我使用的版本：<br><a href="http://support.supermap.com.cn/DownloadCenter/DownloadPage.aspx?id=516">http://support.supermap.com.cn/DownloadCenter/DownloadPage.aspx?id=516</a></p><h2 id="在-SuperMap-中打开sdb数据库："><a href="#在-SuperMap-中打开sdb数据库：" class="headerlink" title="在 SuperMap 中打开sdb数据库："></a>在 SuperMap 中打开sdb数据库：</h2><p>结果发现只能打开 .smw 格式的工作空间文件，而且里面也没用 .shp 文件<br><img src="https://img-blog.csdnimg.cn/20201004144526921.png" alt="可选格式"><br>这里可能是SuperMap版本太高导致的，我查了查资料，还要来一步转换</p><h2 id="sdb格式转换："><a href="#sdb格式转换：" class="headerlink" title="sdb格式转换："></a>sdb格式转换：</h2><p>如图所示，在数据选项卡下有一个转换的工具，我们就用这个<br><img src="https://img-blog.csdnimg.cn/20201004145056976.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70#pic_center" alt="转换工具"><br>添加好文件后，选择输出路径，点击开始进行了，这个转换的运行速度较慢，可以先来一杯卡布奇诺<br><img src="https://img-blog.csdnimg.cn/20201004145310500.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70#pic_center" alt="转换工具窗口"></p><h2 id="转换结果与导出："><a href="#转换结果与导出：" class="headerlink" title="转换结果与导出："></a>转换结果与导出：</h2><p>右击数据源，打开文件型数据源，找到转化过的 <strong>.udb</strong> 文件<br><img src="https://img-blog.csdnimg.cn/20201004145902464.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70"><br>对应的点线面 .shp 文件就可以看到了<br><img src="https://img-blog.csdnimg.cn/20201004150139242.png" alt="矢量显示方式"><br>右键你需要的文件导出数据集即可</p>]]></content>
      
      
      <categories>
          
          <category> GIS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GIS </tag>
            
            <tag> SuperMap </tag>
            
            <tag> SDB数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于Hexo的Matery主题个人博客友链样式修改</title>
      <link href="/2020/09/28/ji-yu-hexo-de-matery-zhu-ti-ge-ren-bo-ke-you-lian-yang-shi-xiu-gai/"/>
      <url>/2020/09/28/ji-yu-hexo-de-matery-zhu-ti-ge-ren-bo-ke-you-lian-yang-shi-xiu-gai/</url>
      
        <content type="html"><![CDATA[<h1 id="基于Hexo的Matery主题个人博客友链样式修改"><a href="#基于Hexo的Matery主题个人博客友链样式修改" class="headerlink" title="基于Hexo的Matery主题个人博客友链样式修改"></a>基于Hexo的Matery主题个人博客友链样式修改</h1><h2 id="问题起因："><a href="#问题起因：" class="headerlink" title="问题起因："></a>问题起因：</h2><p>我做好了二级菜单后打算记录我的听歌、看书和追剧的日常，可是使用的友链页面样式放上电视剧海报和图书封面太难看了，所以就有了这篇文章</p><h2 id="二级菜单如何设置成友链页面样式："><a href="#二级菜单如何设置成友链页面样式：" class="headerlink" title="二级菜单如何设置成友链页面样式："></a>二级菜单如何设置成友链页面样式：</h2><p>见上一篇博客：<a href="https://blog.csdn.net/qq_41496127/article/details/108749638">https://blog.csdn.net/qq_41496127/article/details/108749638</a></p><h2 id="图片边框形状更改："><a href="#图片边框形状更改：" class="headerlink" title="图片边框形状更改："></a>图片边框形状更改：</h2><p>先看看效果，是不是比圆形头像顺眼多了？<br><img src="https://img-blog.csdnimg.cn/20200928171639929.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70#pic_center" alt="效果图"><br>修改这个比较容易，打开 <strong>themes\hexo-theme-matery\layout</strong> 文件夹，找到你对应二级菜单的 <strong>.ejs</strong> 文件，修改下面的css属性即可，这个属性是控制要素边界弯曲度的</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.frind-ship img</span> <span class="token punctuation">&#123;</span><span class="token property">border-radius</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="图片宽高比例更改："><a href="#图片宽高比例更改：" class="headerlink" title="图片宽高比例更改："></a>图片宽高比例更改：</h2><p>先看效果图：<br><img src="https://img-blog.csdnimg.cn/20200928172640455.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70#pic_center" alt="效果图"><br>和修改边框一样，还是那个路径，打开对应文件，修改部分如下图：</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.frind-ship .title img</span> <span class="token punctuation">&#123;</span><span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 167px<span class="token punctuation">;</span><span class="token property">flex-shrink</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>调整到大多海报合适的比例就行啦</p><h2 id="增加卡片显示的内容："><a href="#增加卡片显示的内容：" class="headerlink" title="增加卡片显示的内容："></a>增加卡片显示的内容：</h2><p>如图所示：<br><img src="https://img-blog.csdnimg.cn/20200928173654539.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk2MTI3,size_16,color_FFFFFF,t_70#pic_center" alt="效果图"><br>这个自由度比较大，还是先打开上面路径的对应文件，修改如下：</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%- url_for(friend.avatar) %><span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>&lt;%= friend.name %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>&lt;%= friend.type %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>&lt;%= friend.recommendation %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">></span></span>&lt;%= friend.process %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>再到对应的 <strong>.json</strong> 文件里增加对应的字段和内容就行了</p><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token punctuation">[</span><span class="token punctuation">&#123;</span>    <span class="token key atrule">"avatar"</span><span class="token punctuation">:</span> <span class="token string">"https://img9.doubanio.com/view/photo/m/public/p2620456045.webp"</span><span class="token punctuation">,</span>    <span class="token key atrule">"name"</span><span class="token punctuation">:</span> <span class="token string">"我，喜欢你"</span><span class="token punctuation">,</span><span class="token key atrule">"type"</span><span class="token punctuation">:</span> <span class="token string">"剧情/爱情"</span><span class="token punctuation">,</span><span class="token key atrule">"recommendation"</span><span class="token punctuation">:</span> <span class="token string">"★★★"</span><span class="token punctuation">,</span><span class="token key atrule">"process"</span><span class="token punctuation">:</span> <span class="token string">"在看ing"</span><span class="token punctuation">,</span>    <span class="token key atrule">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://movie.douban.com/subject/34908020/"</span><span class="token punctuation">,</span>    <span class="token key atrule">"title"</span><span class="token punctuation">:</span> <span class="token string">"了解影片"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>    <span class="token key atrule">"avatar"</span><span class="token punctuation">:</span> <span class="token string">"https://img9.doubanio.com/view/photo/l/public/p2614037605.webp"</span><span class="token punctuation">,</span>    <span class="token key atrule">"name"</span><span class="token punctuation">:</span> <span class="token string">"重启之极海听雷"</span><span class="token punctuation">,</span>    <span class="token key atrule">"type"</span><span class="token punctuation">:</span> <span class="token string">"悬疑/冒险"</span><span class="token punctuation">,</span><span class="token key atrule">"recommendation"</span><span class="token punctuation">:</span> <span class="token string">"★★★★"</span><span class="token punctuation">,</span><span class="token key atrule">"process"</span><span class="token punctuation">:</span> <span class="token string">"在看ing"</span><span class="token punctuation">,</span>    <span class="token key atrule">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://movie.douban.com/subject/35182499/"</span><span class="token punctuation">,</span>    <span class="token key atrule">"title"</span><span class="token punctuation">:</span> <span class="token string">"了解影片"</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>    <span class="token key atrule">"avatar"</span><span class="token punctuation">:</span> <span class="token string">"https://img1.doubanio.com/view/photo/m/public/p2621383298.webp"</span><span class="token punctuation">,</span>    <span class="token key atrule">"name"</span><span class="token punctuation">:</span> <span class="token string">"沉默的真相"</span><span class="token punctuation">,</span><span class="token key atrule">"type"</span><span class="token punctuation">:</span> <span class="token string">"悬疑/犯罪"</span><span class="token punctuation">,</span><span class="token key atrule">"recommendation"</span><span class="token punctuation">:</span> <span class="token string">"★★★★★"</span><span class="token punctuation">,</span><span class="token key atrule">"process"</span><span class="token punctuation">:</span> <span class="token string">"已看完（2020/9/22）"</span><span class="token punctuation">,</span>    <span class="token key atrule">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://movie.douban.com/subject/35182499/"</span><span class="token punctuation">,</span>    <span class="token key atrule">"title"</span><span class="token punctuation">:</span> <span class="token string">"了解影片"</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>对于文字大小等调整直接在 <strong>.ejs</strong> 文件里写css就可以了，这里不做介绍了</p>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Matery </tag>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于Hexo的Matery主题个人博客的部分个性化修改</title>
      <link href="/2020/09/23/ji-yu-hexo-de-matery-zhu-ti-ge-ren-bo-ke-de-bu-fen-ge-xing-hua-xiu-gai/"/>
      <url>/2020/09/23/ji-yu-hexo-de-matery-zhu-ti-ge-ren-bo-ke-de-bu-fen-ge-xing-hua-xiu-gai/</url>
      
        <content type="html"><![CDATA[<h1 id="基于Hexo的Matery主题个人博客的部分个性化修改"><a href="#基于Hexo的Matery主题个人博客的部分个性化修改" class="headerlink" title="基于Hexo的Matery主题个人博客的部分个性化修改"></a>基于Hexo的Matery主题个人博客的部分个性化修改</h1><h2 id="页面菜单栏文字个性化设置："><a href="#页面菜单栏文字个性化设置：" class="headerlink" title="页面菜单栏文字个性化设置："></a>页面菜单栏文字个性化设置：</h2><p>方法一：打开<strong>主题下的配置文件</strong>_config.yml，直接在menu下修改，中文支持很好</p><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">menu:  我的主页:    url: &#x2F;    icon: fas fa-home  标签:    url: &#x2F;tags    icon: fas fa-tags  分类:    url: &#x2F;categories    icon: fas fa-bookmark  时间轴:    url: &#x2F;archives    icon: fas fa-archive  个人中心:    url: &#x2F;about    icon: fas fa-user-circle  访客登记薄:    url: &#x2F;contact    icon: fas fa-comments  学习情报处:    url: &#x2F;friends    icon: fas fa-address-book<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>方法二：打开 <strong><strong>themes\hexo-theme-matery\layout\_partial\navigation.ejs</strong></strong> 文件，修改下面代码中的中文即可</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> menuMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>menuMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"Index"</span><span class="token punctuation">,</span> <span class="token string">"首页"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>menuMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"Tags"</span><span class="token punctuation">,</span> <span class="token string">"标签"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>menuMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"Categories"</span><span class="token punctuation">,</span> <span class="token string">"分类"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>menuMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"Archives"</span><span class="token punctuation">,</span> <span class="token string">"归档"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>menuMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"About"</span><span class="token punctuation">,</span> <span class="token string">"关于"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>menuMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"Contact"</span><span class="token punctuation">,</span> <span class="token string">"留言板"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>menuMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"Friends"</span><span class="token punctuation">,</span> <span class="token string">"友情链接"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="页面菜单栏图标个性化设置："><a href="#页面菜单栏图标个性化设置：" class="headerlink" title="页面菜单栏图标个性化设置："></a>页面菜单栏图标个性化设置：</h2><p>matery主题中的小图标都是调用 <a href="http://www.fontawesome.com.cn/faicons">http://www.fontawesome.com.cn/faicons</a>上的图标，记住图标名称，引用的时候直接写就行了，格式如下：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>tv<span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>play<span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>mouse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="页面下大标题修改成和菜单栏文本相同："><a href="#页面下大标题修改成和菜单栏文本相同：" class="headerlink" title="页面下大标题修改成和菜单栏文本相同："></a>页面下大标题修改成和菜单栏文本相同：</h2><p>打开 <strong>themes\hexo-theme-matery\languages\zh-CN.yml</strong> 文件，修改格式如下：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">archives</span><span class="token punctuation">:</span> 归档<span class="token key atrule">about</span><span class="token punctuation">:</span> 关于<span class="token key atrule">contact</span><span class="token punctuation">:</span> 访客登记薄<span class="token key atrule">friends</span><span class="token punctuation">:</span> 学习情报处<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="二级菜单页面个性化——调成和友链页面相同："><a href="#二级菜单页面个性化——调成和友链页面相同：" class="headerlink" title="二级菜单页面个性化——调成和友链页面相同："></a>二级菜单页面个性化——调成和友链页面相同：</h2><p>1.定义下拉菜单：</p><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">休闲生活馆</span><span class="token punctuation">:</span>  <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>list  <span class="token key atrule">children</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 听歌      <span class="token key atrule">url</span><span class="token punctuation">:</span> /musics      <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>music    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 追剧      <span class="token key atrule">url</span><span class="token punctuation">:</span> /movies      <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>tv    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 看书      <span class="token key atrule">url</span><span class="token punctuation">:</span> /books      <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>book<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>定义下拉菜单后，执行新建页面命令：</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">hexo <span class="token keyword">new</span> <span class="token class-name">page</span> <span class="token string">"musics"</span>hexo <span class="token keyword">new</span> <span class="token class-name">page</span> <span class="token string">"movies"</span>hexo <span class="token keyword">new</span> <span class="token class-name">page</span> <span class="token string">"books"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>编辑新建的 <strong>source/musics/index.md</strong> 文件，加上 type 和 layout 这两行</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> musics<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2020-02-23 19:37:07</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"musics"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"musics"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>2.找到 <strong>source\_data</strong> 文件夹，复制 friends.json 粘贴成副本重命名为 musics.json<br>3.找到 <strong>themes\hexo-theme-matery\layout</strong> 文件夹，复制 friends.ejs 粘贴成副本重命名为 musics.ejs，然后打开 musics.ejs 文本内搜索 friends ，把它们改成 musics，<strong>注意定义的 class 和 id 内的不要改，只改变量</strong>，更改目标为下图高亮部分：<br><img src="https://img-blog.csdnimg.cn/20200923134044305.png#pic_center" alt="更改目标"><br><strong>如果想更改页面大标题和二级菜单图标相同的也是在这张图的第一句那里改</strong><br>4.修改 musics.json 内的链接相关内容，刷新查看页面应该就变了</p><h2 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h2><p>后续可能会更新更加详细的不局限于友链样式的个性化方法<br>欢迎大家访问我的个人博客：<a href="https://mmddyhc.github.io/">https://mmddyhc.github.io/</a></p>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Matery </tag>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2020/09/05/hello-world/"/>
      <url>/2020/09/05/hello-world/</url>
      
        <content type="html"><![CDATA[<p>大家好，这是我的第一篇Hexo上写的博客，就简单的介绍一下我自己：</p><h2 id="GO"><a href="#GO" class="headerlink" title="GO"></a>GO</h2><h3 id="NAME"><a href="#NAME" class="headerlink" title="NAME:"></a>NAME:</h3><p>我是MMddyhc，中文名“萌萌哒的萤火虫”</p><h3 id="HOMETOWN"><a href="#HOMETOWN" class="headerlink" title="HOMETOWN:"></a>HOMETOWN:</h3><p>家在河北省廊坊市三河市，是一块非常有趣的飞地</p><h3 id="STUDY"><a href="#STUDY" class="headerlink" title="STUDY:"></a>STUDY:</h3><p>2017年我考到了石家庄河北师范大学，选择了地理信息科学这个专业</p><h3 id="WISH"><a href="#WISH" class="headerlink" title="WISH"></a>WISH</h3><p>希望我可以和萤火虫一样，即使很渺小，也能发出微弱的光芒让世界更明亮！</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
